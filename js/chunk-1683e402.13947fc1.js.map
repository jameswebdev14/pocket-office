{"version":3,"sources":["webpack:///./src/views/Diary.vue?ef67","webpack:///src/views/Diary.vue","webpack:///./src/views/Diary.vue?b57a","webpack:///./src/views/Diary.vue","webpack:///./src/views/Diary.vue?1a78"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","_v","to","on","click","$event","add","_s","moment","Date","now","format","directives","name","rawName","value","expression","type","placeholder","domProps","input","target","composing","diary_entry","preventDefault","save_diary","cancel_add_diary","_e","_l","entry","key","staticStyle","font-style","date","readonly","$set","editMode","edit_mode","save_update","text","feedback","staticRenderFns","Diaryvue_type_script_lang_js_","data","diary","methods","d","db","collection","charAt","toUpperCase","slice","user_id","localStorage","getItem","save_list","document","getElementsByClassName","area","querySelector","removeAttribute","classList","i","length","getAttribute","style","opacity","_this","doc","update","then","setAttribute","remove","catch","err","concat","finally","computed","sortedDiary","lodash_default","a","orderBy","firestore","where","beforeMount","$store","getters","getLoggedStatus","$router","push","views_Diaryvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Diary_vue_vue_type_style_index_0_id_2f43ce6e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Diary_vue_vue_type_style_index_0_id_2f43ce6e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-1683e402.13947fc1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fade-in\",attrs:{\"id\":\"diary_container\"}},[_c('h1',{staticClass:\"page-header\"},[_vm._v(\"Diary\")]),_c('div',{attrs:{\"id\":\"newBtn_container\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fas fa-home\"})]),_c('button',{attrs:{\"id\":\"newBtn\"},on:{\"click\":function($event){_vm.add = !_vm.add}}},[_c('i',{staticClass:\"fas fa-plus\"})])],1),(_vm.add === true)?_c('div',[_c('form',{staticClass:\"form-group\",attrs:{\"id\":\"newEntry\"}},[_c('p',{staticClass:\"mt-3 mb-4 col-sm-auto\",attrs:{\"id\":\"date_now\"}},[_vm._v(\"Today's Date: \"+_vm._s(_vm.moment(Date.now()).format(\"DD/MM/YYYY\")))]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.diary_entry),expression:\"diary_entry\"}],staticClass:\"form-control mt-2 mb-2 diary_input\",attrs:{\"type\":\"text\",\"placeholder\":\"diary entry\"},domProps:{\"value\":(_vm.diary_entry)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.diary_entry=$event.target.value}}}),_c('div',{staticClass:\"col-sm-12\",attrs:{\"id\":\"btn_div\"}},[_c('button',{staticClass:\"btn btn-success col-sm-6 col-md-6 mt-2\",attrs:{\"id\":\"save_btn\",\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.save_diary($event)}}},[_vm._v(\"Save\")]),_c('button',{staticClass:\"btn btn-cancel col-sm-6 col-md-6 mt-2\",attrs:{\"id\":\"cancel_btn\"},on:{\"click\":function($event){$event.preventDefault();return _vm.cancel_add_diary($event)}}},[_vm._v(\"Cancel\")])])])]):_vm._e(),_c('div',[_c('ul',_vm._l((_vm.sortedDiary),function(entry){return _c('li',{key:entry.id,staticClass:\"diary_list scale-up-ver-top\",attrs:{\"name\":entry.id}},[_c('h5',{staticClass:\"entry_date text-center\",staticStyle:{\"font-style\":\"italic\"}},[_vm._v(_vm._s(entry.date))]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(entry.text),expression:\"entry.text\"}],staticClass:\"diary_text\",attrs:{\"id\":entry.id,\"readonly\":\"\"},domProps:{\"value\":(entry.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(entry, \"text\", $event.target.value)}}}),(!_vm.editMode)?_c('i',{staticClass:\"fas fa-edit\",on:{\"click\":function($event){return _vm.edit_mode(entry.id)}}}):_vm._e(),(_vm.editMode)?_c('i',{staticClass:\"fas fa-save\",on:{\"click\":function($event){return _vm.save_update(entry.id, entry.text)}}}):_vm._e(),(_vm.feedback)?_c('p',[_vm._v(_vm._s(_vm.feedback))]):_vm._e()])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"diary_container\" class=\"fade-in\">\n\n    <h1 class=\"page-header\">Diary</h1>\n    <div id=\"newBtn_container\">\n      <router-link to=\"/\"><i class=\"fas fa-home\"></i></router-link>\n      <button id=\"newBtn\" @click=\"add = !add\"><i class=\"fas fa-plus\"></i></button>\n    </div>\n\n    <div v-if=\"add === true\">\n      <form id=\"newEntry\" class=\"form-group\">\n        <p class=\"mt-3 mb-4 col-sm-auto\" id=\"date_now\">Today's Date: {{ moment(Date.now()).format(\"DD/MM/YYYY\") }}</p>\n        <textarea type=\"text\" class=\"form-control mt-2 mb-2 diary_input\" v-model=\"diary_entry\" placeholder=\"diary entry\"></textarea>\n        <div id=\"btn_div\" class=\"col-sm-12\">\n          <button class=\"btn btn-success col-sm-6 col-md-6 mt-2\" id=\"save_btn\" type=\"submit\" @click.prevent=\"save_diary\">Save</button>\n          <button class=\"btn btn-cancel col-sm-6 col-md-6 mt-2\" id=\"cancel_btn\" @click.prevent=\"cancel_add_diary\">Cancel</button>\n        </div>\n      </form>\n    </div>\n    <div>\n      <!-- List of diary entries -->\n      <ul>\n        <li class=\"diary_list scale-up-ver-top\" :name=\"entry.id\" v-for=\"entry in sortedDiary\" :key=\"entry.id\">\n          <h5 class=\"entry_date text-center\" style=\"font-style:italic;\">{{ entry.date }}</h5>\n          <textarea v-model=\"entry.text\" class=\"diary_text\" :id=\"entry.id\" readonly></textarea>\n          <i class=\"fas fa-edit\" @click=\"edit_mode(entry.id)\" v-if=\"!editMode\"></i>\n          <i class=\"fas fa-save\" @click=\"save_update(entry.id, entry.text)\" v-if=\"editMode\"></i>\n          <p v-if=\"feedback\">{{ feedback }}</p>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script>\nimport { db } from \"@/config/db\";\nimport _ from \"lodash\";\n\nexport default {\n  name: \"diary\",\n  /*props: {\n    id: {\n      required: true\n    }\n  }, */\n  data() {\n    return {\n      add: false,\n      feedback: null,\n      diary_entry: \"\",\n      editMode: false,\n      diary: []\n    };\n  },\n  methods: {\n    save_diary() {\n      let d = this.moment(Date.now()).format(\"DD/MM/YYYY\");\n      db.collection(\"Diary\").add({\n        date: d,\n        text:\n          this.diary_entry.charAt(0).toUpperCase() + this.diary_entry.slice(1),\n        user_id: localStorage.getItem(\"myorganiser_userId\")\n      });\n      this.diary_entry = \"\";\n    },\n    cancel_add_diary() {\n      this.add = false;\n    },\n    edit_mode(id) {\n      // get specific textarea to modify and remove readonly attribute\n      this.feedback = null;\n      var save_list = document.getElementsByClassName(\"diary_list\");\n      this.editMode = true;\n      let area = document.querySelector(\"#\" + id);\n      area.removeAttribute(\"readonly\");\n      area.classList.add(\"editable\");\n      for (var i = 0; save_list.length; i++) {\n        if (save_list[i].getAttribute(\"name\") != id) {\n          save_list[i].style.opacity = 0.3;\n        }\n      }\n    },\n    save_update(id, text) {\n      let save_list = document.getElementsByClassName(\"diary_list\");\n      db\n        .collection(\"Diary\")\n        .doc(id)\n        .update({\n          text: text\n        })\n        .then(() => {\n          let area = document.querySelector(\"#\" + id);\n          area.setAttribute(\"readonly\", true);\n          area.classList.remove(\"editable\");\n          this.editMode = false;\n        })\n        .catch(err => {\n          this.feedback = `Error could not update diary - ${err}`;\n        })\n        .finally(() => {\n          for (var i = 0; save_list.length; i++) {\n            if (save_list[i].getAttribute(\"name\") != id) {\n              save_list[i].style.opacity = 1;\n            }\n          }\n        });\n    }\n  },\n  computed: {\n    sortedDiary: function() {\n      return _.orderBy(this.diary, \"date\", \"desc\");\n    }\n  },\n  firestore() {\n    return {\n      diary: db\n        .collection(\"Diary\")\n        .where(\"user_id\", \"==\", localStorage.getItem(\"myorganiser_userId\"))\n    };\n  },\n  beforeMount() {\n    if (!this.$store.getters.getLoggedStatus) {\n      this.$router.push(\"/\");\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#diary_container {\n  margin: 0;\n  padding: 0;\n}\n\n.diary_input {\n  width: 90%;\n  margin: 10px auto;\n  resize: none;\n  overflow-y: auto;\n}\n\n.page-header {\n  color: red;\n}\n\n#new_entry {\n  display: flex;\n  margin-top: 20px;\n}\n\n#btn_div {\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n}\n\n.btn {\n  width: 120px;\n}\n\n.diary_list {\n  display: flex;\n  width: 95%;\n  margin: 15px auto;\n  flex-flow: column;\n  align-items: center;\n  background-color: grey;\n  padding: 10px;\n  border-radius: 5px;\n}\n\n.entry_date {\n  font-style: italic;\n  opacity: 0.7;\n}\n\n.diary_text {\n  width: 95%;\n  height: 100%;\n  margin: 10px auto;\n  color: white;\n  background: transparent;\n  font-size: 1rem;\n  margin-bottom: 20px;\n  border: none;\n  border-radius: 5px;\n  resize: none;\n}\n\n.editable {\n  color: red;\n  background-color: white;\n  padding: 10px;\n  height: 100%;\n}\n\n.fa-edit,\n.fa-save {\n  cursor: pointer;\n  justify-content: flex-end;\n  align-self: flex-end;\n}\n\n.fa-edit:hover,\n.fa-save {\n  color: red;\n}\n\n.fa-edit:hover::after {\n  content: \" edit\";\n}\n\n.fa-save:hover::after {\n  content: \" save\";\n}\n\n/**************LARGE SCREENS*****************/\n@media screen and (min-width: 768px) {\n  ul,\n  li {\n    margin: 0;\n    padding: 0;\n  }\n\n  #newEntry {\n    margin: 60px auto;\n    width: 70%;\n    justify-content: center;\n    align-items: baseline;\n  }\n\n  .diary_list {\n    padding: 0;\n  }\n\n  .diary_input {\n    width: 100%;\n    height: auto;\n    margin: 0;\n  }\n\n  #btn_div {\n    width: 100%;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: no-wrap;\n    justify-content: center;\n    padding: 0;\n    margin: 0;\n  }\n\n  #save_btn,\n  #cancel_btn {\n    width: 50%;\n    max-width: 485px;\n  }\n  #save_btn {\n    margin-right: 6px;\n  }\n\n  #cancel_btn {\n    margin-left: 6px;\n  }\n\n  #date_now {\n    text-align: center;\n    font-size: 2rem;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Diary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Diary.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Diary.vue?vue&type=template&id=2f43ce6e&scoped=true&\"\nimport script from \"./Diary.vue?vue&type=script&lang=js&\"\nexport * from \"./Diary.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Diary.vue?vue&type=style&index=0&id=2f43ce6e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f43ce6e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Diary.vue?vue&type=style&index=0&id=2f43ce6e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Diary.vue?vue&type=style&index=0&id=2f43ce6e&lang=scss&scoped=true&\""],"sourceRoot":""}